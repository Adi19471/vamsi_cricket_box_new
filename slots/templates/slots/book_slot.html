{% extends 'slots/base.html' %}
{% load static %}

{% block title %}Book Slot - Cricket Slot Booking{% endblock %}

{% block content %}

<div class="container" style="padding-top: 90px;">



  

  <!-- HERO -->
  <div class="p-4 p-md-5 rounded-4 text-white shadow-sm mb-4"
       style="background: linear-gradient(135deg,#0B4F6C,#0A2540);">
    <div class="d-flex align-items-center gap-3">
      <div class="d-flex align-items-center justify-content-center rounded-4"
           style="width:56px;height:56px;background:rgba(255,255,255,.12);">
        <i class="fas fa-ticket-alt fs-2" style="color:#F97316;"></i>
      </div>
      <div>
        <h1 class="h3 fw-bold mb-1">Confirm Booking</h1>
        <p class="mb-0 opacity-75">Review your booking details and confirm</p>
      </div>
    </div>
  </div>

  <div class="row justify-content-center">
    <div class="col-12 col-lg-8">

      <div class="card border-0 shadow-sm rounded-4">
        <div class="card-body p-4 p-md-5">

          <!-- SLOT DETAILS -->
          <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mb-3">
            <h4 class="h5 fw-bold m-0" style="color:#0B4F6C;">
              <i class="fas fa-info-circle me-2" style="color:#F97316;"></i> Slot Details
            </h4>

            <span class="badge bg-primary-subtle text-primary rounded-pill px-3 py-2">
              {{ slot.get_cricket_type_display }}
            </span>
          </div>

          <div class="border rounded-4 bg-light p-3 mb-4">
            <div class="row g-3">
              <div class="col-md-6">
                <div class="small text-muted mb-1">Date</div>
                <div class="fw-bold">
                  {{ slot.date|date:'d M Y' }}
                  <span class="text-muted fw-semibold">({{ slot.date|date:'l' }})</span>
                </div>
              </div>

              <div class="col-md-6">
                <div class="small text-muted mb-1">Time Slot</div>
                <div class="fw-bold">{{ slot.get_time_slot_display }}</div>
              </div>

              <div class="col-md-6">
                <div class="small text-muted mb-1">Available Spots</div>
                <div class="fw-bold">
                  {{ slot.max_players|add:"-"|add:slot.booked_count }}/{{ slot.max_players }}
                </div>
              </div>

              <div class="col-md-6">
                <div class="small text-muted mb-1">Price</div>
                <div class="fw-bold fs-5 text-success">â‚¹{{ slot.price }}</div>
              </div>
            </div>
          </div>

          <!-- USER INFO -->
          <div class="card border-0 shadow-sm rounded-4 mb-4">
            <div class="card-body p-4">
              <h5 class="h6 fw-bold mb-3" style="color:#0B4F6C;">
                <i class="fas fa-user me-2" style="color:#F97316;"></i> Your Information
              </h5>

              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Name</label>
                  <input type="text" class="form-control"
                         value="{{ user.get_full_name|default:user.username }}" readonly>
                </div>
                <div class="col-md-6">
                  <label class="form-label fw-semibold">Email</label>
                  <input type="email" class="form-control" value="{{ user.email }}" readonly>
                </div>
              </div>
            </div>
          </div>

          <!-- FORM -->
          <form method="POST" novalidate>
            {% csrf_token %}

            <div class="form-check mb-4">
              <input class="form-check-input" type="checkbox" id="confirmCheck" required>
              <label class="form-check-label" for="confirmCheck">
                I confirm that I want to book this slot and will adhere to all terms and conditions.
              </label>
            </div>

            <div class="d-flex justify-content-between flex-wrap gap-2">
              <a href="{% url 'slots:dashboard' %}" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left me-2"></i> Back
              </a>

              <button type="submit" class="btn btn-success px-4">
                <i class="fas fa-check me-2"></i> Confirm Booking
              </button>
            </div>
          </form>

          <!-- TERMS -->
          <hr class="my-4">

          <div class="text-muted small">
            <div class="fw-bold mb-2">
              <i class="fas fa-shield-alt me-2"></i> Important
            </div>

            <ul class="list-group">
              <li class="list-group-item">
                <i class="fas fa-check text-success me-2"></i>
                This booking is confirmed for the specified date and time only.
              </li>
              <li class="list-group-item">
                <i class="fas fa-check text-success me-2"></i>
                You cannot book the same slot twice.
              </li>
              <li class="list-group-item">
                <i class="fas fa-check text-success me-2"></i>
                Once booked, you can view this booking in <strong>My Bookings</strong>.
              </li>
              <li class="list-group-item">
                <i class="fas fa-info-circle text-primary me-2"></i>
                You can cancel your booking anytime from <strong>My Bookings</strong> page.
              </li>
            </ul>
          </div>

        </div>
      </div>

    </div>
  </div>

</div>

{% endblock %}
